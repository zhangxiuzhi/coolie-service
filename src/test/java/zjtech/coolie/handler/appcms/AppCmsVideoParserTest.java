package zjtech.coolie.handler.appcms;

import zjtech.dto.cinema.VideoDto;
import org.junit.Test;

import java.util.HashMap;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import static junit.framework.TestCase.assertEquals;
import static junit.framework.TestCase.assertTrue;

public class AppCmsVideoParserTest {
  private AppCmsVideoParser parser = new AppCmsVideoParser();

  @Test
  public void testParseEmptyTv() {
    var map = new HashMap<String, Object>();
    VideoDto videoDto = parser.parse(map);
    assertEquals(videoDto.getVendors().size(), 0);
  }

  @Test
  public void testParseSimpleTv() {
    var map = new HashMap<String, Object>();
    map.put("vod_play_from", "youku");
    map.put("vod_play_url", "第1集$http://v.youku.com");

    VideoDto videoDto = parser.parse(map);
    assertEquals(videoDto.getVendors().size(), 1);
    assertEquals(videoDto.getVendors().get(0).getPlayList().size(), 1);
  }

  @Test
  public void testParseTv() {
    var map = new HashMap<String, Object>();
    map.put("vod_name", "咦!弄啥嘞 2016");
    map.put("vod_en", "yinongshalei2016");
    map.put("vod_actor", "未知");
    map.put("vod_director", "dir");
    map.put("vod_area", "大陆");
    map.put("vod_content", "《咦!弄啥嘞》爆笑来袭，给你带来不一样的快乐");
    map.put("vod_year", "2016");
    map.put("vod_play_from", "youku");
    map.put("vod_play_url", "第1集$http://v.youku.com" +
       "/v_show/id_XMTQ1MTkxOTM0OA==.html#第2集$http://" +
       "v.youku.com/v_show/id_XMTQ2NjQ2MTM3Ng==.html#" +
       "第3集$http://v.youku.com/v_show/id_XMTQ5OTU3NzUxNg==.html#" +
       "第4集$http://v.youku.com/v_show/id_XMTUxODk3MDg4OA==.html#" +
       "第5集$http://v.youku.com/v_show/id_XMTU0MjYzMzA2MA==.html" +
       "#第6集$http://v.youku.com/v_show/id_XMTU2OTA2NTk4OA==.html");

    VideoDto videoDto = parser.parse(map);
    assertEquals(videoDto.getVendors().size(), 1);
    assertEquals(videoDto.getVendors().get(0).getPlayList().size(), 6);
  }

  @Test
  public void testParseMovi() {
    var map = new HashMap<String, Object>();
    map.put("vod_name", "公主大对换");
    map.put("vod_en", "gongzhudaduihuan");
    map.put("vod_actor", "凡妮莎·哈金斯,山姆·帕莱迪奥,Alexa,Suanne,Adi,Nick");
    map.put("vod_director", "麦克·罗尔");
    map.put("vod_area", "美国");
    map.put("vod_content", "距离圣诞节还有一周，美丽的蒙特纳罗女公爵玛格丽特与长相跟自己一模一样的芝加哥平民史黛西对换了身份在圣诞老人助" +
       "手的魔法下，玛格丽特爱上了史黛西英俊的同事，而史黛西则爱上了玛格丽特的未婚夫，一位风度翩翩的王子");
    map.put("vod_year", "2018");
    map.put("vod_play_from", "hkm3u8$$$131m3u8");
    map.put("vod_play_url", "BD$https://cdn-1.haku99.com/hls/2018/11/28/B5HsPwiW/playlist.m3u8$$$BD中英" +
       "双字幕$https://v6.438vip.com/2018/11/20/B3YztkWFWJ7owXbo/playlist.m3u8");

    VideoDto videoDto = parser.parse(map);
    assertEquals(videoDto.getVendors().size(), 2);
    assertEquals(videoDto.getVendors().get(0).getPlayList().size(), 1);
    assertEquals(videoDto.getVendors().get(1).getPlayList().size(), 1);
  }

  @Test
  public void testTv2() {
    String content = "2018-12-13$http://v.qq.com/x/cover/zni4aqt8pykwk92.html#2018-12-12$http://v.qq.com/x/cover/jfqwdme3i002zf8.html#2018-12-11$http://v.qq.com/x/cover/lk3rym61k6uhwy9.html#2018-12-10$http://v.qq.com/x/cover/oykuenh744uf8sk.html#2018-12-09$http://v.qq.com/x/cover/n4e0yeu0he0lwgt.html#2018-12-08$http://v.qq.com/x/cover/poa06sn61x1syri.html#2018-12-07$http://v.qq.com/x/cover/ia2qrqbfaucofbt.html#2018-12-06$http://v.qq.com/x/cover/yh2a9oar2r8ynlx.html#2018-12-05$http://v.qq.com/x/cover/rq3nai0lzmjh902.html#2018-12-04$http://v.qq.com/x/cover/znq350p4sukeetv.html#2018-12-03$http://v.qq.com/x/cover/512wz5nnlihabon.html#2018-12-02$http://v.qq.com/x/cover/k0tzuye8vxtt4ss.html#2018-12-01$http://v.qq.com/x/cover/tkcspnqcpruz1eh.html$$$2018-12-13$http://v.pptv.com/show/yeqODXXbS4nsatI.html#2018-12-12$http://v.pptv.com/show/3sRo50ib1JWPGRKw.html#2018-12-11$http://v.pptv.com/show/9PqeHYXrW5n8euI.html#2018-12-10$http://v.pptv.com/show/ke2PDHTaSojradE.html#2018-12-09$http://v.pptv.com/show/HGoOjfVbywls6lI.html#2018-12-08$http://v.pptv.com/show/gdR491icFNXPWVLw.html#2018-12-07$http://v.pptv.com/show/fa7SUbkfj80wrhY.html#2018-12-06$http://v.pptv.com/show/RiciabGIDmVpT3dd0.html#2018-12-05$http://v.pptv.com/show/BS1QzzedDUuuLJQ.html#2018-12-04$http://v.pptv.com/show/tqnMS7MZiaccqqBA.html#2018-12-03$http://v.pptv.com/show/cvueHYXrW5n8euI.html#2018-12-02$http://v.pptv.com/show/93QXlPxia0hBz8Vk.html#2018-12-01$http://v.pptv.com/show/fgYppg505CKFA2s.html#2018-11-30$http://v.pptv.com/show/o0zvbNQ6quhLyTE.html#2018-11-29$http://v.pptv.com/show/dRQ3tByC8jCTEXk.html#2018-11-28$http://v.pptv.com/show/dSBDwCiaOicjyfHYU.html#2018-11-27$http://v.pptv.com/show/2JO2NZ0Dc7EUkvo.html#2018-11-26$http://v.pptv.com/show/l1X4d99FtfNW1Dw.html#2018-11-25$http://v.pptv.com/show/ohE0sxuB8SibSEHg.html#2018-11-24$http://v.pptv.com/show/KI2wL5f9basOjPQ.html#2018-11-23$http://v.pptv.com/show/0Mls61O5KWfKSLA.html#2018-11-22$http://v.pptv.com/show/QkvubdU7qiblMyjI.html#2018-11-21$http://v.pptv.com/show/5hk8uyOJibTeaGIA.html#2018-11-20$http://v.pptv.com/show/X6icSUbkfj80wrhY.html#2018-11-19$http://v.pptv.com/show/1DJV0jqgEE6xL5c.html#2018-11-18$http://v.pptv.com/show/sP2gH4ftXZvibfOQ.html#2018-11-17$http://v.pptv.com/show/aqvOTbUbia8ksqhI.html#2018-11-16$http://v.pptv.com/show/0Gs3tByC8jCTEXk.html#2018-11-15$http://v.pptv.com/show/LB0FgupQwP5h30c.html#2018-11-14$http://v.pptv.com/show/LwkZlv5k1BJ181s.html#2018-11-13$http://v.pptv.com/show/2Eha2UGnF1W4Np4.html#2018-11-12$http://v.pptv.com/show/62s3tByC8jCTEXk.html#2018-11-11$http://v.pptv.com/show/5oibTEHjeTozvbdU.html#2018-11-10$http://v.pptv.com/show/Os7UU7shkc8ysBg.html#2018-11-09$http://v.pptv.com/show/umJAvyeNicTueHIQ.html#2018-11-08$http://v.pptv.com/show/smFBviaaMicDqdG4M.html#2018-11-07$http://v.pptv.com/show/rm01shqA8C6RD3c.html#2018-11-06$http://v.pptv.com/show/BrNv7FS6KmjLSbE.html#2018-11-05$http://v.pptv.com/show/qgsXlPxia0hBz8Vk.html#2018-11-04$http://v.pptv.com/show/gxcLiaPBWxgRn5U0.html#2018-11-03$http://v.pptv.com/show/tDjqadE3pibVIxia4.html#2018-11-02$http://v.pptv.com/show/kRERjvZczApt61M.html#2018-11-01$http://v.pptv.com/show/Ra9z8FiaibLmzPTbU.html#2018-10-31$http://v.pptv.com/show/C2Y8uyOJibTeaGIA.html#2018-10-30$http://v.pptv.com/show/1P6kI4vxYZ8CgOg.html#2018-10-29$http://v.pptv.com/show/LWg6uSGH9zWYFn4.html#2018-10-28$http://v.pptv.com/show/RvqnJIzyYqADgek.html#2018-10-27$http://v.pptv.com/show/j6CBicmbMPHrdW8M.html#2018-10-26$http://v.pptv.com/show/nbxl4kqwIF7BP6c.html#2018-10-25$http://v.pptv.com/show/bicarKJD2ZqQHhe0.html#2018-10-24$http://v.pptv.com/show/BAwVkvpg0A5x71c.html#2018-10-23$http://v.pptv.com/show/8ImaGYHnV5X4dt4.html#2018-10-22$http://v.pptv.com/show/Heib0M5sBca8SkPg.html#2018-10-21$http://v.pptv.com/show/lUpX1DyiaElCzMZk.html#2018-10-20$http://v.pptv.com/show/uXEysRlic7y2QDnY.html#2018-10-19$http://v.pptv.com/show/5NvIR68VhcMmpAw.html#2018-10-18$http://v.pptv.com/show/DqJicicGTKOnjbWcE.html#2018-10-17$http://v.pptv.com/show/QFtIxyibVBUOmJIw.html#2018-10-16$http://v.pptv.com/show/IbBx7la8LGrNS7M.html#2018-10-15$http://v.pptv.com/show/9uib0M5sBca8SkPg.html#2018-10-14$http://v.pptv.com/show/XKOAic2fNPXveXMQ.html#2018-10-13$http://v.pptv.com/show/J0dc20OpGVe6OKA.html#2018-10-12$http://v.pptv.com/show/Sqd8ib2PJOXfaWMA.html#2018-10-11$http://v.pptv.com/show/XIKfHITqWpj7eeE.html#2018-10-10$http://v.pptv.com/show/VZeMC3PZSYfqaNA.html#2018-10-09$http://v.pptv.com/show/kK1z8FiaibLmzPTbU.html#2018-10-08$http://v.pptv.com/show/h7Nx7la8LGrNS7M.html#2018-10-06$http://v.pptv.com/show/jZGPDHTaSojradE.html#2018-10-06$http://v.pptv.com/show/53oqqRF35yWIBm4.html#2018-10-05$http://v.pptv.com/show/BQ8Vkvpg0A5x71c.html#2018-10-04$http://v.pptv.com/show/OTDwb9c9retOzDQ.html#2018-10-03$http://v.pptv.com/show/7G0zsBhib7iayPDXU.html#2018-10-02$http://v.pptv.com/show/McbeXcUrm9k8uiaI.html#2018-10-01$http://v.pptv.com/show/QCic1ctpAsO5Rzzc.html#2018-09-30$http://v.pptv.com/show/fxQMiaicNZyQdq6FA.html#2018-09-29$http://v.pptv.com/show/tG0zsBhib7iayPDXU.html#2018-09-28$http://v.pptv.com/show/WgYenQVr2xl8ibmI.html#2018-09-27$http://v.pptv.com/show/q2o6uSGH9zWYFn4.html#2018-09-26$http://v.pptv.com/show/F6l39FzCMnDTUbk.html#2018-09-25$http://v.pptv.com/show/lzftatI4qOZJxy8.html#2018-09-24$http://v.pptv.com/show/V3QsqxN56SeKCHA.html#2018-09-23$http://v.pptv.com/show/JLBw71e9LWvOTLQ.html#2018-09-22$http://v.pptv.com/show/N71j4EiauHlyicPaU.html#2018-09-21$http://v.pptv.com/show/Kqh491icFNXPWVLw.html#2018-09-20$http://v.pptv.com/show/kibDAP6cNfbsenAQ.html#2018-09-19$http://v.pptv.com/show/qsvZVr4klNI1sxs.html#2018-09-18$http://v.pptv.com/show/SZyEA2vRQXiciaYMg.html#2018-09-17$http://v.pptv.com/show/ribS8O6MJebcamAA.html#2018-09-16$http://v.pptv.com/show/wnoppg505CKFA2s.html#2018-09-15$http://v.pptv.com/show/BjDvbNQ6quhLyTE.html#2018-09-14$http://v.pptv.com/show/Z8rZVr4klNI1sxs.html#2018-09-13$http://v.pptv.com/show/2UNia4UmvH13APqY.html#2018-09-12$http://v.pptv.com/show/cuHAP6cNfbsenAQ.html#2018-09-11$http://v.pptv.com/show/urxj4EiauHlyicPaU.html#2018-09-10$http://v.pptv.com/show/lW00sxuB8SibSEHg.html#2018-09-09$http://v.pptv.com/show/q1lIxyibVBUOmJIw.html#2018-09-08$http://v.pptv.com/show/YAcenQVr2xl8ibmI.html#2018-09-07$http://v.pptv.com/show/95WMC3PZSYfqaNA.html#2018-09-06$http://v.pptv.com/show/6bhn5EyyImDDQak.html#2018-09-05$http://v.pptv.com/show/7KdibicWXLO3ncWsI.html#2018-09-04$http://v.pptv.com/show/M42UE3vhUYicycNg.html#2018-09-03$http://v.pptv.com/show/aURb2ECmFlS3NZ0.html#2018-09-02$http://v.pptv.com/show/P5iaHBGzSQoDjYck.html#2018-09-01$http://v.pptv.com/show/hw4Vkvpg0A5x71c.html#2018-08-31$http://v.pptv.com/show/3dXMS7MZiaccqqBA.html#2018-08-31$http://v.pptv.com/show/5uia3NJwCcrATkfk.html#2018-08-30$http://v.pptv.com/show/3tLRTrYcjMotqxM.html#2018-08-29$http://v.pptv.com/show/39PSUbkfj80wrhY.html#2018-08-28$http://v.pptv.com/show/4em4N58FdbMWlPw.html#2018-08-27$http://v.pptv.com/show/4ua9OqIIeLYZlic8.html#2018-08-26$http://v.pptv.com/show/19vKSbEXh8Uopg4.html#2018-08-25$http://v.pptv.com/show/2NDPTLQaiasgrqRE.html#2018-08-24$http://v.pptv.com/show/2dHQT7cdjcsurBQ.html#2018-08-23$http://v.pptv.com/show/2s7VUrogkM4xrxc.html#2018-08-22$http://v.pptv.com/show/28icWVb0jk9E0sho.html#2018-08-21$http://v.pptv.com/show/0VJMyzOZCUeqKJA.html#2018-08-20$http://v.pptv.com/show/VT3pZs40pOJFwys.html#2018-08-14$http://v.pptv.com/show/jd3JRq4UhMIlows.html#2018-07-30$http://v.pptv.com/show/Ib1n5EyyImDDQak.html#2018-07-29$http://v.pptv.com/show/29zIR68VhcMmpAw.html#2018-07-24$http://v.pptv.com/show/g3ItqhJ46CaJB28.html#2018-07-23$http://v.pptv.com/show/eyUAfibdNvfte3EQ.html#2018-07-22$http://v.pptv.com/show/sXMurRV76ymMCnI.html#2018-07-17$http://v.pptv.com/show/wwAbmABm1hR39V0.html#2018-07-16$http://v.pptv.com/show/r4KYF3iclVZP2dNw.html#2018-07-15$http://v.pptv.com/show/aeW1MpoAcK4Rjicc.html#2018-07-07$http://v.pptv.com/show/kaN491icFNXPWVLw.html#2018-07-01$http://v.pptv.com/show/o8HaWcEnl9U4th4.html#2018-06-24$http://v.pptv.com/show/1xIKiafFXxwVo5k4.html#2018-06-19$http://v.pptv.com/show/f2QzsBhib7iayPDXU.html#2018-06-18$http://v.pptv.com/show/v8jfXMQqmtg7uSE.html#2018-06-17$http://v.pptv.com/show/ribibibPaULe7kcmgI.html#2018-06-12$http://v.pptv.com/show/0ea4N58FdbMWlPw.html#2018-06-11$http://v.pptv.com/show/kQwiaoQlv3x2AicmY.html#2018-06-09$http://v.pptv.com/show/8icOjIIjuXpzicfeU.html#2018-06-05$http://v.pptv.com/show/DyX6eeFHticVY1j4.html#2018-06-04$http://v.pptv.com/show/CR8QjicddzQtu7FQ.html#2018-06-03$http://v.pptv.com/show/AynibfeVLuiclc2kI.html#2018-06-01$http://v.pptv.com/show/ASf4d99FtfNW1Dw.html#2018-05-31$http://v.pptv.com/show/ib1pLyDCWBkSnJY0.html#2018-05-30$http://v.pptv.com/show/ibVxRzjacDEqtK5M.html#2018-05-29$http://v.pptv.com/show/81JDwCiaOicjyfHYU.html#2018-05-28$http://v.pptv.com/show/ecicgX8ctndsibvCQ.html#2018-05-27$http://v.pptv.com/show/4VtMyzOZCUeqKJA.html#2018-05-25$http://v.pptv.com/show/3V9QzzedDUuuLJQ.html#2018-05-24$http://v.pptv.com/show/d93SUbkfj80wrhY.html#2018-05-23$http://v.pptv.com/show/61VKyTGXB0WoJo4.html#2018-05-22$http://v.pptv.com/show/ddvMS7MZiaccqqBA.html#2018-05-20$http://v.pptv.com/show/bcPUU7shkc8ysBg.html#2018-05-18$http://v.pptv.com/show/ab9w71e9LWvOTLQ.html#2018-05-17$http://v.pptv.com/show/Z83iaYckvn91AviaY.html#2018-05-16$http://v.pptv.com/show/Vic2yMZnicb60QjvY.html#2018-05-15$http://v.pptv.com/show/VfusK5P5aacKiaPA.html#2018-05-14$http://v.pptv.com/show/UicmuLZX7a6kMiavI.html#2018-05-13$http://v.pptv.com/show/SibG2NZ0Dc7EUkvo.html#2018-05-11$http://v.pptv.com/show/SdicQT7cdjcsurBQ.html#2018-05-10$http://v.pptv.com/show/Rib3CQakPf70gngY.html#2018-05-09$http://v.pptv.com/show/PRMEgibtRwf9ia4Eg.html#2018-05-08$http://v.pptv.com/show/Nx0Skflfzw1w7lY.html#2018-05-06$http://v.pptv.com/show/KwEWlf1j0xF08lo.html#2018-05-04$http://v.pptv.com/show/IwkenQVr2xl8ibmI.html#2018-05-03$http://v.pptv.com/show/HzXqadE3pibVIxia4.html#2018-05-02$http://v.pptv.com/show/GzHmZc0zoibFEwiao.html$$$20180112$http://www.le.com/ptv/vplay/31343525.html#20180111$http://www.le.com/ptv/vplay/31342263.html$$$2018-12-13$http://www.iqiyi.com/v_19rqsz4k4g.html#2018-12-12$http://www.iqiyi.com/v_19rqt1i688.html#2018-12-11$http://www.iqiyi.com/v_19rqsu3pt0.html#2018-12-10$http://www.iqiyi.com/v_19rqs3mijw.html#2018-12-09$http://www.iqiyi.com/v_19rqs6064o.html#2018-12-08$http://www.iqiyi.com/v_19rqryo83s.html#2018-12-07$http://www.iqiyi.com/v_19rqs0tvrw.html#2018-12-06$http://www.iqiyi.com/v_19rqse9koc.html#2018-12-05$http://www.iqiyi.com/v_19rqsgmtdw.html#2018-12-04$http://www.iqiyi.com/v_19rqs9ntq0.html#2018-12-03$http://www.iqiyi.com/v_19rqscxg0w.html#2018-12-02$http://www.iqiyi.com/v_19rqrldg9g.html#2018-12-01$http://www.iqiyi.com/v_19rqrnx1r8.html#2018-11-30$http://www.iqiyi.com/v_19rqrh1vpo.html#2018-11-29$http://www.iqiyi.com/v_19rqru1lbw.html#2018-11-28$http://www.iqiyi.com/v_19rqrxipmk.html#2018-11-27$http://www.iqiyi.com/v_19rqrpq7rs.html#2018-11-26$http://www.iqiyi.com/v_19rqrt5kmc.html#2018-11-25$http://www.iqiyi.com/v_19rr4c7gk4.html#2018-11-24$http://www.iqiyi.com/v_19rr4f0gl0.html#2018-11-23$http://www.iqiyi.com/v_19rr47eezc.html#2018-11-22$http://www.iqiyi.com/v_19rr49hvzs.html#2018-11-21$http://www.iqiyi.com/v_19rr4mqp14.html#2018-11-20$http://www.iqiyi.com/v_19rr4p2ov4.html#2018-11-19$http://www.iqiyi.com/v_19rr4igtlk.html#2018-11-18$http://www.iqiyi.com/v_19rr3qu0ow.html#2018-11-17$http://www.iqiyi.com/v_19rr3tj4go.html#2018-11-16$http://www.iqiyi.com/v_19rr3lr9fo.html#2018-11-15$http://www.iqiyi.com/v_19rr3pg4p0.html#2018-11-14$http://www.iqiyi.com/v_19rr42jpgg.html#2018-11-13$http://www.iqiyi.com/v_19rr3wsn88.html#2018-11-12$http://www.iqiyi.com/v_19rr3yvltk.html#2018-11-11$http://www.iqiyi.com/v_19rr37on34.html#2018-11-10$http://www.iqiyi.com/v_19rr3aetsc.html#2018-11-09$http://www.iqiyi.com/v_19rr31q4p4.html#2018-11-08$http://www.iqiyi.com/v_19rr353lvw.html#2018-11-07$http://www.iqiyi.com/v_19rr3hdf2g.html#2018-11-06$http://www.iqiyi.com/v_19rr3kk7hg.html#2018-11-05$http://www.iqiyi.com/v_19rr3e38g8.html#2018-11-04$http://www.iqiyi.com/v_19rr3gg5ow.html#2018-11-03$http://www.iqiyi.com/v_19rr2o4dlc.html#2018-11-02$http://www.iqiyi.com/v_19rr2rhwxs.html#2018-11-01$http://www.iqiyi.com/v_19rr2jmnbo.html#2018-10-31$http://www.iqiyi.com/v_19rr2xac74.html#2018-10-30$http://www.iqiyi.com/v_19rr2ylczo.html#2018-10-29$http://www.iqiyi.com/v_19rr2sqcw4.html#2018-10-28$http://www.iqiyi.com/v_19rr2ufd6g.html#2018-10-27$http://www.iqiyi.com/v_19rr2w3qjk.html#2018-10-26$http://www.iqiyi.com/v_19rr6kk2xs.html#2018-10-25$http://www.iqiyi.com/v_19rr6e4mxo.html#2018-10-24$http://www.iqiyi.com/v_19rr6fi3tw.html#2018-10-23$http://www.iqiyi.com/v_19rr6i52p8.html#2018-10-22$http://www.iqiyi.com/v_19rr6uftr0.html#2018-10-21$http://www.iqiyi.com/v_19rr6xdzes.html#2018-10-20$http://www.iqiyi.com/v_19rr6p7f7k.html#2018-10-19$http://www.iqiyi.com/v_19rr6qspjw.html#2018-10-18$http://www.iqiyi.com/v_19rr5zca1w.html#2018-10-17$http://www.iqiyi.com/v_19rr61tfcs.html#2018-10-16$http://www.iqiyi.com/v_19rr5un9k4.html#2018-10-15$http://www.iqiyi.com/v_19rr5xbnz0.html#2018-10-14$http://www.iqiyi.com/v_19rr68zhpc.html#2018-10-13$http://www.iqiyi.com/v_19rr6awhnk.html#2018-10-12$http://www.iqiyi.com/v_19rr6cly3o.html#2018-10-11$http://www.iqiyi.com/v_19rr656cew.html#2018-10-10$http://www.iqiyi.com/v_19rr67w3mo.html#2018-10-09$http://www.iqiyi.com/v_19rr5fq5m8.html#2018-10-08$http://www.iqiyi.com/v_19rr5hg67w.html#2018-10-01$http://www.iqiyi.com/v_19rr5squbo.html#2018-09-30$http://www.iqiyi.com/v_19rr5kju7k.html#2018-09-29$http://www.iqiyi.com/v_19rr5ncdj4.html#2018-09-28$http://www.iqiyi.com/v_19rr4upldc.html#2018-09-27$http://www.iqiyi.com/v_19rr4xalt0.html#2018-09-26$http://www.iqiyi.com/v_19rr4q5y8o.html#2018-09-25$http://www.iqiyi.com/v_19rr4rwu2o.html#2018-09-24$http://www.iqiyi.com/v_19rr4t0oss.html#2018-09-23$http://www.iqiyi.com/v_19rr4u7u48.html#2018-09-22$http://www.iqiyi.com/v_19rr569rg4.html#2018-09-21$http://www.iqiyi.com/v_19rr582y3w.html#2018-09-20$http://www.iqiyi.com/v_19rr4zz79w.html#2018-09-19$http://www.iqiyi.com/v_19rr51uugg.html#2018-09-18$http://www.iqiyi.com/v_19rr53qjs8.html#2018-09-17$http://www.iqiyi.com/v_19rqzvn4iw.html#2018-09-16$http://www.iqiyi.com/v_19rqzwsog0.html#2018-09-15$http://www.iqiyi.com/v_19rqzyzlx4.html#2018-09-14$http://www.iqiyi.com/v_19rqzr2fuk.html#2018-09-13$http://www.iqiyi.com/v_19rqzryks8.html#2018-09-12$http://www.iqiyi.com/v_19rqztvb64.html#2018-09-11$http://www.iqiyi.com/v_19rr05wm44.html#2018-09-10$http://www.iqiyi.com/v_19rr07qfgk.html#2018-09-09$http://www.iqiyi.com/v_19rr08ub1k.html#2018-09-08$http://www.iqiyi.com/v_19rr010758.html#2018-09-07$http://www.iqiyi.com/v_19rr01rw7c.html#2018-09-06$http://www.iqiyi.com/v_19rr03ogec.html#2018-09-05$http://www.iqiyi.com/v_19rqzbsi9g.html#2018-09-04$http://www.iqiyi.com/v_19rqzdvuz8.html#2018-09-03$http://www.iqiyi.com/v_19rqzf1d04.html#2018-09-02$http://www.iqiyi.com/v_19rqz72l5s.html#2018-09-01$http://www.iqiyi.com/v_19rqz8crc4.html#2018-08-31$http://www.iqiyi.com/v_19rqz9elt0.html#2018-08-30$http://www.iqiyi.com/v_19rqzl2tic.html#2018-08-29$http://www.iqiyi.com/v_19rqzn1t5c.html#2018-08-28$http://www.iqiyi.com/v_19rqzp6kmc.html#2018-08-27$http://www.iqiyi.com/v_19rqzfvrdc.html#2018-08-26$http://www.iqiyi.com/v_19rqzi86xc.html#2018-08-25$http://www.iqiyi.com/v_19rqzjf4vw.html#2018-08-24$http://www.iqiyi.com/v_19rqzkkbkw.html#2018-08-22$http://www.iqiyi.com/v_19rqyt2jh4.html#2018-08-21$http://www.iqiyi.com/v_19rqyv1vbo.html#2018-08-20$http://www.iqiyi.com/v_19rqymgxis.html#2018-08-19$http://www.iqiyi.com/v_19rqyovkrw.html#2018-08-17$http://www.iqiyi.com/v_19rqz195go.html#2018-08-16$http://www.iqiyi.com/v_19rqz370sw.html#2018-08-15$http://www.iqiyi.com/v_19rqz454j0.html#2018-08-14$http://www.iqiyi.com/v_19rqyw8vpk.html#2018-08-13$http://www.iqiyi.com/v_19rqyyd994.html#2018-08-12$http://www.iqiyi.com/v_19rqyza7ho.html#2018-08-10$http://www.iqiyi.com/v_19rqy82w6k.html#2018-08-09$http://www.iqiyi.com/v_19rqy93iuw.html#2018-08-08$http://www.iqiyi.com/v_19rqyb90dw.html#2018-08-07$http://www.iqiyi.com/v_19rqy29q6c.html#2018-08-06$http://www.iqiyi.com/v_19rqy3de64.html#2018-08-05$http://www.iqiyi.com/v_19rqy5f36g.html#2018-08-03$http://www.iqiyi.com/v_19rqyh3by8.html#2018-08-02$http://www.iqiyi.com/v_19rqyjaboc.html#2018-08-01$http://www.iqiyi.com/v_19rqyk3w4s.html#2018-07-31$http://www.iqiyi.com/v_19rqyl9v7g.html#2018-07-30$http://www.iqiyi.com/v_19rqydki98.html#2018-07-29$http://www.iqiyi.com/v_19rqyepbhw.html#2018-07-27$http://www.iqiyi.com/v_19rr237z4c.html#2018-07-26$http://www.iqiyi.com/v_19rr24byp8.html#2018-07-25$http://www.iqiyi.com/v_19rr25unik.html#2018-07-24$http://www.iqiyi.com/v_19rr27hm1o.html#2018-07-23$http://www.iqiyi.com/v_19rr1zh5ik.html#2018-07-22$http://www.iqiyi.com/v_19rr20ii58.html#2018-07-20$http://www.iqiyi.com/v_19rr2d2xqg.html#2018-07-19$http://www.iqiyi.com/v_19rr2e91a4.html#2018-07-18$http://www.iqiyi.com/v_19rr2g6uvg.html#2018-07-17$http://www.iqiyi.com/v_19rr2h8stk.html#2018-07-16$http://www.iqiyi.com/v_19rr29amo4.html#2018-07-15$http://www.iqiyi.com/v_19rr2apsj0.html#2018-07-13$http://www.iqiyi.com/v_19rr28nw2w.html#2018-07-13$http://www.iqiyi.com/v_19rr1ix6vc.html#2018-07-12$http://www.iqiyi.com/v_19rr1l46zk.html#2018-07-11$http://www.iqiyi.com/v_19rr1m3xqw.html#2018-07-10$http://www.iqiyi.com/v_19rr1n6erk.html#2018-07-09$http://www.iqiyi.com/v_19rr1eeot4.html#2018-07-08$http://www.iqiyi.com/v_19rr1guhb8.html#2018-07-06$http://www.iqiyi.com/v_19rr1iikzs.html#2018-07-05$http://www.iqiyi.com/v_19rr1ulouk.html#2018-07-04$http://www.iqiyi.com/v_19rr1vd424.html#2018-07-03$http://www.iqiyi.com/v_19rr1wyaoc.html#2018-07-02$http://www.iqiyi.com/v_19rr1oxsh0.html#2018-07-01$http://www.iqiyi.com/v_19rr1p8dig.html#2018-06-28$http://www.iqiyi.com/v_19rr0zcrh0.html#2018-06-27$http://www.iqiyi.com/v_19rr10fp3g.html#2018-06-26$http://www.iqiyi.com/v_19rr11mh00.html#2018-06-25$http://www.iqiyi.com/v_19rr131n4s.html#2018-06-24$http://www.iqiyi.com/v_19rr137fxk.html#2018-06-22$http://www.iqiyi.com/v_19rr0wa0cc.html#2018-06-21$http://www.iqiyi.com/v_19rr0x3ppo.html#2018-06-20$http://www.iqiyi.com/v_19rr0yox2g.html#2018-06-19$http://www.iqiyi.com/v_19rr1ad8k8.html#2018-06-18$http://www.iqiyi.com/v_19rr1bm5uw.html#2018-06-15$http://www.iqiyi.com/v_19rr13vn5k.html#2018-06-13$http://www.iqiyi.com/v_19rr16as8w.html#2018-06-12$http://www.iqiyi.com/v_19rr17jky4.html#2018-06-11$http://www.iqiyi.com/v_19rr0fuxik.html#2018-06-10$http://www.iqiyi.com/v_19rr0h9wlw.html#2018-06-09$http://www.iqiyi.com/v_19rr0h9m00.html#2018-06-08$http://www.iqiyi.com/v_19rr0iuhys.html#2018-06-07$http://www.iqiyi.com/v_19rr09xxz8.html#2018-06-05$http://www.iqiyi.com/v_19rr0ddg1o.html#2018-06-04$http://www.iqiyi.com/v_19rr0ed6z8.html#2018-06-03$http://www.iqiyi.com/v_19rr0ptck8.html#2018-06-01$http://www.iqiyi.com/v_19rr0ri0q0.html#2018-05-31$http://www.iqiyi.com/v_19rr0t1z1s.html#2018-05-30$http://www.iqiyi.com/v_19rr0kzzcc.html#2018-05-29$http://www.iqiyi.com/v_19rr0le9cw.html#2018-05-28$http://www.iqiyi.com/v_19rr0nemd0.html#2018-05-27$http://www.iqiyi.com/v_19rr0oo2m0.html#2018-05-25$http://www.iqiyi.com/v_19rrd74hr8.html#2018-05-24$http://www.iqiyi.com/v_19rrd9eets.html#2018-05-23$http://www.iqiyi.com/v_19rrdan5bk.html#2018-05-22$http://www.iqiyi.com/v_19rrda32kk.html#2018-05-21$http://www.iqiyi.com/v_19rrd21t88.html#2018-05-20$http://www.iqiyi.com/v_19rrd39kw8.html#2018-05-18$http://www.iqiyi.com/v_19rrd57dsc.html#2018-05-17$http://www.iqiyi.com/v_19rrdgtuh0.html#2018-05-16$http://www.iqiyi.com/v_19rrdhs8v8.html#2018-05-15$http://www.iqiyi.com/v_19rrdjbnm4.html#2018-05-14$http://www.iqiyi.com/v_19rrdklf2w.html#2018-05-13$http://www.iqiyi.com/v_19rrdl9fqo.html#2018-05-11$http://www.iqiyi.com/v_19rrdca248.html#2018-05-10$http://www.iqiyi.com/v_19rrddmbzo.html#2018-05-09$http://www.iqiyi.com/v_19rrdemmf0.html#2018-05-08$http://www.iqiyi.com/v_19rrdg8kio.html#2018-05-07$http://www.iqiyi.com/v_19rrcmitrk.html#2018-05-06$http://www.iqiyi.com/v_19rrcnue9k.html#2018-05-04$http://www.iqiyi.com/v_19rrcptz8o.html#2018-05-03$http://www.iqiyi.com/v_19rrcq6kys.html#2018-05-02$http://www.iqiyi.com/v_19rrchnt7g.html#2018-04-27$http://www.iqiyi.com/v_19rrcwr32s.html#2018-04-26$http://www.iqiyi.com/v_19rrcy1wuk.html#2018-04-25$http://www.iqiyi.com/v_19rrcyapyw.html#2018-04-24$http://www.iqiyi.com/v_19rrcztfs4.html#2018-04-23$http://www.iqiyi.com/v_19rrd06vks.html#2018-04-22$http://www.iqiyi.com/v_19rrcrnodo.html#2018-04-20$http://www.iqiyi.com/v_19rrcsrl74.html#2018-04-19$http://www.iqiyi.com/v_19rrcu8iic.html#2018-04-18$http://www.iqiyi.com/v_19rrcuhfy0.html#2018-04-17$http://www.iqiyi.com/v_19rrcvx2rw.html#2018-04-16$http://www.iqiyi.com/v_19rrc2picc.html#2018-04-15$http://www.iqiyi.com/v_19rrc3x3ec.html#2018-04-13$http://www.iqiyi.com/v_19rrc54c8s.html#2018-04-12$http://www.iqiyi.com/v_19rrc6fjzw.html#2018-04-11$http://www.iqiyi.com/v_19rrbxy05c.html#2018-04-10$http://www.iqiyi.com/v_19rrby6lvs.html#2018-04-09$http://www.iqiyi.com/v_19rrbzqywg.html#2018-04-08$http://www.iqiyi.com/v_19rrc032lg.html#2018-04-03$http://www.iqiyi.com/v_19rrcds48s.html#2018-04-02$http://www.iqiyi.com/v_19rrcfbps0.html#2018-04-01$http://www.iqiyi.com/v_19rrcftmfg.html#2018-03-30$http://www.iqiyi.com/v_19rrch6oc0.html#2018-03-29$http://www.iqiyi.com/v_19rrc8jgic.html#2018-03-28$http://www.iqiyi.com/v_19rrc92ark.html#2018-03-27$http://www.iqiyi.com/v_19rrc9apvo.html#2018-03-26$http://www.iqiyi.com/v_19rrcb16ts.html#2018-03-25$http://www.iqiyi.com/v_19rrcbf0k0.html#2018-03-23$http://www.iqiyi.com/v_19rrbitolc.html#2018-03-22$http://www.iqiyi.com/v_19rrbj5tfg.html#2018-03-21$http://www.iqiyi.com/v_19rrbjrdrg.html#2018-03-20$http://www.iqiyi.com/v_19rrbkcjh4.html#2018-03-19$http://www.iqiyi.com/v_19rrblwxas.html#2018-03-18$http://www.iqiyi.com/v_19rrbmcv3k.html#2018-03-16$http://www.iqiyi.com/v_19rrbdrizs.html#2018-03-15$http://www.iqiyi.com/v_19rrbecj2o.html#2018-03-14$http://www.iqiyi.com/v_19rrbetr3k.html#2018-03-13$http://www.iqiyi.com/v_19rrbf9l0c.html#2018-03-12$http://www.iqiyi.com/v_19rrbgz2fc.html#2018-03-11$http://www.iqiyi.com/v_19rrbhj224.html#2018-03-09$http://www.iqiyi.com/v_19rrbhqln8.html#2018-03-08$http://www.iqiyi.com/v_19rrbtkjw0.html#2018-03-07$http://www.iqiyi.com/v_19rrbu3uc4.html#2018-03-06$http://www.iqiyi.com/v_19rrbumcl8.html#2018-03-05$http://www.iqiyi.com/v_19rrbv6hm8.html#2018-03-04$http://www.iqiyi.com/v_19rrbvu3ok.html#2018-03-02$http://www.iqiyi.com/v_19rrbw3q00.html#2018-03-01$http://www.iqiyi.com/v_19rrbny5zc.html#2018-02-28$http://www.iqiyi.com/v_19rrboil6k.html#2018-02-27$http://www.iqiyi.com/v_19rrbp4t14.html#2018-02-26$http://www.iqiyi.com/v_19rrbpjprk.html#2018-02-25$http://www.iqiyi.com/v_19rrbq71as.html#2018-02-23$http://www.iqiyi.com/v_19rrbrnuqo.html#2018-02-22$http://www.iqiyi.com/v_19rrbsagyw.html#2018-02-14$http://www.iqiyi.com/v_19rrfglkdw.html#2018-02-13$http://www.iqiyi.com/v_19rrfgcdj0.html#2018-02-12$http://www.iqiyi.com/v_19rrfgy51g.html#2018-02-11$http://www.iqiyi.com/v_19rrfhmqfk.html#2018-02-09$http://www.iqiyi.com/v_19rrfiu0ys.html#2018-02-08$http://www.iqiyi.com/v_19rrf9ij4s.html#2018-02-07$http://www.iqiyi.com/v_19rrf9wubs.html#2018-02-06$http://www.iqiyi.com/v_19rrfalros.html#2018-02-05$http://www.iqiyi.com/v_19rrfc9l94.html#2018-02-04$http://www.iqiyi.com/v_19rrfcwduc.html#2018-02-01$http://www.iqiyi.com/v_19rrfdt1n4.html#2018-01-31$http://www.iqiyi.com/v_19rrfof37c.html#2018-01-30$http://www.iqiyi.com/v_19rrfoys7g.html#2018-01-29$http://www.iqiyi.com/v_19rrfphh7k.html#2018-01-28$http://www.iqiyi.com/v_19rrfq47zo.html#2018-01-26$http://www.iqiyi.com/v_19rrfrngqs.html#2018-01-25$http://www.iqiyi.com/v_19rrfsalhs.html#2018-01-24$http://www.iqiyi.com/v_19rrfsx2zg.html#2018-01-23$http://www.iqiyi.com/v_19rrfjh6a8.html#2018-01-22$http://www.iqiyi.com/v_19rrfjzo4c.html#2018-01-21$http://www.iqiyi.com/v_19rrfko5k0.html#2018-01-19$http://www.iqiyi.com/v_19rrfm4wgw.html#2018-01-18$http://www.iqiyi.com/v_19rrfmoupw.html#2018-01-17$http://www.iqiyi.com/v_19rrfn8fnw.html#2018-01-16$http://www.iqiyi.com/v_19rrfnpg1k.html#2018-01-16$http://www.iqiyi.com/v_19rrfnopwg.html#2018-01-15$http://www.iqiyi.com/v_19rrevedng.html#2018-01-14$http://www.iqiyi.com/v_19rrew01fo.html#2018-01-13$http://www.iqiyi.com/v_19rrewaino.html#2018-01-12$http://www.iqiyi.com/v_19rrewaw20.html#2018-01-11$http://www.iqiyi.com/v_19rrews5q8.html#2018-01-10$http://www.iqiyi.com/v_19rreyjjlc.html#2018-01-09$http://www.iqiyi.com/v_19rrez4urg.html#2018-01-08$http://www.iqiyi.com/v_19rrepq958.html#2018-01-07$http://www.iqiyi.com/v_19rreqb0fk.html#2018-01-07$http://www.iqiyi.com/v_19rreqb6rc.html#2018-01-05$http://www.iqiyi.com/v_19rreqlu60.html#2018-01-04$http://www.iqiyi.com/v_19rrer3vxs.html#2018-01-03$http://www.iqiyi.com/v_19rresym0s.html#2018-01-02$http://www.iqiyi.com/v_19rresh0rw.html";

    var map = new HashMap<String, Object>();
    map.put("vod_play_from", "qq$$$pptv$$$letv$$$qiyi");
    map.put("vod_play_url", content);

    VideoDto videoDto = parser.parse(map);
    assertEquals(videoDto.getVendors().size(), 4);
    for (var vender : videoDto.getVendors()) {
      assertTrue(vender.getPlayList().size() > 0);
    }
  }

  private static final String reg = "(\\w*?://)?([^/]*).*";

  @Test
  public void testReg() {
    Pattern pattern = Pattern.compile(reg);
    Matcher matcher = pattern.matcher("http://www.ds.com");
    matcher.matches();
    System.out.println(matcher.group(1));
    System.out.println(matcher.group(2));
    System.out.println(matcher.groupCount());

    System.out.println("--------------------------");
    matcher = pattern.matcher("www.ds.com");
    matcher.matches();
    System.out.println(matcher.group(1));
    System.out.println(matcher.group(2));
    System.out.println(matcher.groupCount());

    System.out.println("--------------------------");
    matcher = pattern.matcher("www.ds.com/hello/xdd.cjpg");
    matcher.matches();
    System.out.println(matcher.group(1));
    System.out.println(matcher.group(2));
    System.out.println(matcher.groupCount());

    System.out.println("--------------------------");
    matcher = pattern.matcher("http://10.112.33.44:5800/ke/kk.jpg");
    matcher.matches();
    System.out.println(matcher.group(1));
    System.out.println(matcher.group(2));
    System.out.println(matcher.groupCount());

    System.out.println("--------------------------");
    matcher = pattern.matcher("");
    matcher.matches();
    System.out.println(matcher.group(1));
    System.out.println(matcher.group(2));
    System.out.println(matcher.groupCount());
  }
}
